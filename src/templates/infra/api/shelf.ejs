const { herbsshelf } = require('@herbsjs/herbsshelf')
const { herbarium } = require('@herbsjs/herbarium')

function shelf (app, config) {
    app.get('/herbsshelf', (_, res) => {
        res.setHeader('Content-Type', 'text/html')
        const shelf = herbsshelf({ project: 'nuplant', herbarium })
        res.write(shelf)
        res.end()
    })

    app.get('/', (req, res) => res.status(301).redirect('/herbsshelf'))

    // eslint-disable-next-line no-console
    console.info('\nðŸŒ¿ Herbs Shelf endpoint - /herbsshelf \n')
}

module.exports = { shelf }